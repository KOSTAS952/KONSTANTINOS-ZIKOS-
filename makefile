# Κανόνες Μετάγλωτσης του Κώδικα Bash

Αυτό το αρχείο περιγράφει τους κανόνες και τις οδηγίες για τη μετάγλωτση του παρακάτω script, το οποίο προσομοιώνει μια εφαρμογή παραγγελιών πελατών σε ένα κατάστημα με διάφορα προϊόντα.

## Βασικά Βήματα για την Εκτέλεση του Κώδικα

1. **Περιβάλλον Εκτέλεσης**
   Ο κώδικας είναι γραμμένος σε Bash, επομένως απαιτεί ένα σύστημα που να υποστηρίζει το Bash shell (π.χ. Linux, macOS ή ένα Windows σύστημα με το WSL ή το Git Bash).

2. **Απαιτήσεις**
   - Δεν απαιτούνται εξωτερικά εργαλεία ή βιβλιοθήκες για την εκτέλεση του κώδικα.
   - Χρησιμοποιούνται `FIFO pipes` για την επικοινωνία μεταξύ των διαδικασιών του σερβερ και των πελατών.

3. **Δημιουργία του Αρχείου Σενάριου**
   - Δημιουργήστε ένα αρχείο με το όνομα `script.sh` και επικολλήστε τον κώδικα μέσα σε αυτό το αρχείο.
   - Κάντε το αρχείο εκτελέσιμο με την εντολή:
     ```bash
     chmod +x script.sh
     ```

4. **Εκτέλεση του Κώδικα**
   - Εκτελέστε το script με την εντολή:
     ```bash
     ./script.sh
     ```
   - Ο κώδικας θα δημιουργήσει pipes και θα ξεκινήσει 10 πελάτες (διαδικασίες) που θα πραγματοποιούν παραγγελίες σε προϊόντα από το κατάστημα.

## Ανάλυση του Κώδικα

### 1. Αρχικοποίηση Καταλόγου Προϊόντων
Ο κώδικας δημιουργεί έναν κατάλογο με 20 προϊόντα, κάθε προϊόν έχει:
- Μοναδικό ID (0 έως 19).
- Τιμή (τυχαία τιμή μεταξύ 5 και 55).
- Διαθέσιμο απόθεμα (σταθερό αριθμό 2 ανά προϊόν).

### 2. Δημιουργία Pipes
Για την επικοινωνία με τους πελάτες, χρησιμοποιούνται pipes (named pipes). Αυτά επιτρέπουν στο script να επικοινωνεί με κάθε πελάτη (διαδικασία), στέλνοντας και λαμβάνοντας δεδομένα.

- Δημιουργούνται δύο pipes για κάθε πελάτη:
  - `pipe_to_server_from_$customer_pid`: Από τον πελάτη προς το σερβερ.
  - `pipe_from_server_to_$customer_pid`: Από το σερβερ προς τον πελάτη.

### 3. Διαδικασία Παραγγελίας
Η διαδικασία `process_order` εκτελεί τα εξής:
- Διαβάζει την παραγγελία από τον πελάτη.
- Ελέγχει αν το προϊόν είναι διαθέσιμο στο απόθεμα.
- Ενημερώνει τα στατιστικά παραγγελιών και τα αποτελέσματα.
- Επιστρέφει το αποτέλεσμα της παραγγελίας στον πελάτη μέσω του pipe.

### 4. Δημιουργία Πελατών και Εκτέλεση Παραγγελιών
Για κάθε πελάτη (10 στο σύνολο):
- Δημιουργούνται pipes και ξεκινά μια διαδικασία πελάτη.
- Ο πελάτης κάνει 10 παραγγελίες με τυχαία επιλογή προϊόντων.
- Ο πελάτης λαμβάνει την απάντηση για την παραγγελία του μέσω των pipes.

### 5. Καταγραφή Στατιστικών και Αναφορά
Μετά την εκτέλεση των παραγγελιών:
- Δημιουργείται μια αναφορά που περιλαμβάνει:
  - Σύνολο παραγγελιών.
  - Αριθμό επιτυχημένων και αποτυχημένων παραγγελιών.
  - Συνολικά έσοδα από τις πωλήσεις.
  - Αναλυτικά στοιχεία για κάθε προϊόν (π.χ. αριθμός αιτημάτων, πωλήσεων, και αποτυχημένων παραγγελιών).
  - Σύνολο εσόδων ανά πελάτη.

### 6. Αντίδραση σε Αποτυχημένες Παραγγελίες
Αν ένα προϊόν δεν είναι διαθέσιμο, η παραγγελία αποτυγχάνει και το αποτέλεσμα καταγράφεται με το αντίστοιχο μήνυμα. Επίσης, το ιστορικό των αποτυχημένων παραγγελιών καταγράφεται για κάθε προϊόν.

## Συμπεράσματα

Η διαδικασία μεταγλώττισης του παραπάνω κώδικα δεν απαιτεί ειδικές ενέργειες πέρα από την εκτέλεση του script σε ένα κατάλληλο περιβάλλον Bash. Η κύρια λειτουργικότητα βασίζεται στη χρήση των FIFO pipes για την επικοινωνία μεταξύ των πελατών και του σερβερ, καθώς και στην τυχαία επιλογή παραγγελιών για τους πελάτες. Το τελικό αποτέλεσμα είναι μια αναφορά που καταγράφει την απόδοση του καταστήματος και την πορεία των παραγγελιών.


